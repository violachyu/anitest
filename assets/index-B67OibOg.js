(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();(function(e){function t(){[].slice.call(document.querySelectorAll(".nav")).forEach(function(i){var u=[].slice.call(i.querySelectorAll(".nav__item"));u.length;var d=function(p){if(p.classList.contains("nav__item--current"))return!1;var m=i.querySelector(".nav__item--current");m.classList.remove("nav__item--current"),p.classList.add("nav__item--current")};u.forEach(function(p){p.addEventListener("click",function(){d(p)})})}),[].slice.call(document.querySelectorAll(".link-copy")).forEach(function(i){i.setAttribute("data-clipboard-text",location.protocol+"//"+location.host+location.pathname+"#"+i.parentNode.id),new Clipboard(i),i.addEventListener("click",function(){i.classList.add("link-copy--animate"),setTimeout(function(){i.classList.remove("link-copy--animate")},300)})});var r=document.querySelector(".left"),n=document.querySelector(".right"),o=document.querySelectorAll(".swipebtn"),s=document.querySelector(".backbtn"),a=document.querySelector(".swipebox");const l=document.querySelectorAll("[data-toggle-visible]"),c=document.querySelectorAll("[data-visible-target]");r&&n&&o.length&&a&&(o.forEach(function(i){i.addEventListener("click",function(){a.classList.add("hover-right"),a.classList.remove("hover-left")})}),s.addEventListener("click",function(){a.classList.add("hover-left"),a.classList.remove("hover-right")})),c.forEach(i=>{i.classList.remove("visible")}),l.forEach(i=>{i.addEventListener("click",function(){const u=this.getAttribute("data-toggle-visible"),d=document.querySelector(`[data-visible-target="${u}"]`);d&&(d.classList.toggle("visible"),d.classList.contains("visible")&&document.addEventListener("click",function p(m){!d.contains(m.target)&&m.target!==i&&(d.classList.remove("visible"),document.removeEventListener("click",p))}))})})}t()})();const k=(e="img")=>new Promise(t=>{imagesLoaded(document.querySelectorAll(e),{background:!0},t)});gsap.registerPlugin(ScrollTrigger,ScrollSmoother,ScrollToPlugin,SplitText);const S=ScrollSmoother.create({smooth:1,effects:!0,normalizeScroll:!0}),A=document.querySelector(".scene-wrapper");let h=!1;const _=new Map,$=async()=>{try{const[e,t]=await Promise.all([fetch("js/carousels.json"),fetch("js/previews.json")]),r=await e.json(),n=await t.json(),o=document.getElementById("carousels-container");r.forEach(a=>{const l=document.createElement("div");l.className="scene",a.radius&&l.setAttribute("data-radius",a.radius),l.innerHTML=`
        <h2 class="scene__title" data-speed="0.7">
          <a href="#${a.id}"><span>${a.title}</span></a>
        </h2>
        <div class="carousel">
          ${a.cells.map(c=>`
            <div class="carousel__cell">
              <div class="card" style="--img: url(${c.img})">
                <div class="card__face card__face--front"></div>
                <div class="card__face card__face--back"></div>
              </div>
            </div>
          `).join("")}
        </div>
      `,o.appendChild(l)});const s=document.getElementById("previews-container");n.forEach(a=>{const l=document.createElement("div");if(a.id==="preview-1"){l.className="preview__custom",l.id=a.id;const c=`Former nurse turned full-stack developer, now revolutionizing aging through playful <b>AgeTech</b>.<br>
        I'm building a future where getting older feels like leveling up - by injecting gamification into our aging society.<br>
        <br>
        By day, I code. By night, I chase that perfect jazz resonance where voice and body become one.<br>
        Through music and tech, I create experiences that move both body and soul. Let's compose the soundtrack for better aging together.<br>
        Hit reply if you're into:<br>
        <br>
        → <b>AgeTech</b> innovation<br>
        → Human-centered design<br>
        → Music that makes tech sing`,i="About Me";l.innerHTML=`
            <header class="preview__header">
              <h2 class="preview__title"><span>${i}</span></h2>
              <button class="preview__close">Close ×</button>
            </header>
            <div class="grid__custom">
              <figure  class="grid__custom__item" role="img">
                <div class="grid__custom__item-image" style="background-image: url(assets/intro_3.jpg)"></div>
                <figcaption class="">
                  <p class="grid__custom__item-text">${c}
                    <br><br>
                    <button class='custom-btn resume-btn'>Resume</button>
                    <button class='custom-btn contact-btn'>Contact Me</button>
                  </p>
                </figcaption>
              </figure>
            </div>
        `}else l.className="preview",l.id=a.id,l.innerHTML=`
          <header class="preview__header">
            <h2 class="preview__title"><span>${a.title}</span></h2>
            <button class="preview__close">Close ×</button>
          </header>
          <div class="grid">
            ${a.images.map((c,i)=>`
              <figure aria-labelledby="caption${i+1}" class="grid__item panel__target" role="img">
              <a href="${c.link}" target="_blank">
                <div class="grid__item-image" style="background-image: url(${c.img})"></div>
                <figcaption class="grid__item-caption" id="caption${i+1}">
                  <h3><b>${c.caption}</h3></b>
                </figcaption>
                </a>
              </figure>
            `).join("")}
          </div>
        `;s.appendChild(l)}),R()}catch(e){console.error("Error loading data:",e)}},P=(e,t)=>{const r=360/e;return Array.from({length:e},(n,o)=>`rotateY(${o*r}deg) translateZ(${t}px)`)},I=e=>{const t=e.closest(".scene"),r=parseFloat(t.dataset.radius)||500,n=e.querySelectorAll(".carousel__cell"),o=P(n.length,r);n.forEach((s,a)=>{s.style.transform=o[a]})},Y=e=>{const t=e.closest(".scene"),r=e.querySelectorAll(".card"),n=t.querySelector(".scene__title span"),o=_.get(n),s=(o==null?void 0:o.chars)||[];return e._timeline=gsap.timeline({defaults:{ease:"sine.inOut"},scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:!0}}),e._timeline.fromTo(e,{rotationY:0},{rotationY:-180},0).fromTo(e,{rotationZ:3,rotationX:3},{rotationZ:-3,rotationX:-3},0).fromTo(r,{filter:"brightness(250%)"},{filter:"brightness(80%)",ease:"power3"},0).fromTo(r,{rotationZ:10},{rotationZ:-10,ease:"none"},0),s.length>0&&T(s,"in",{scrollTrigger:{trigger:t,start:"top center",toggleActions:"play none none reverse"}}),e._timeline},O=()=>{document.querySelectorAll(".scene__title span, .preview__title span, .preview__close").forEach(e=>{const t=SplitText.create(e,{type:"chars",charsClass:"char",autoSplit:!0});_.set(e,t)})},x=e=>({rotationY:gsap.utils.interpolate(0,-180,e),rotationX:gsap.utils.interpolate(3,-3,e),rotationZ:gsap.utils.interpolate(3,-3,e)}),M=(e,t,r,n,o)=>{gsap.fromTo(e,{transformOrigin:`% 50% ${t>0?-t*.8:t*.8}px`,autoAlpha:0,y:r*.5,scale:.5,rotationY:(t<0,n)},{y:0,scale:1,rotationY:0,autoAlpha:1,duration:.4,ease:"sine",delay:o+.1}),gsap.fromTo(e,{z:-3500},{z:0,duration:.3,ease:"expo",delay:o})},b=(e,t,r,n,o,s,a)=>{gsap.to(e,{startAt:{transformOrigin:`50% 50% ${t>0?-t*.8:t*.8}px`},y:r*.4,rotationY:(t<0,n),scale:.4,autoAlpha:0,duration:.4,ease:"sine.in",delay:o}),gsap.to(e,{z:-3500,duration:.4,ease:"expo.in",delay:o+.9,onComplete:s?a:void 0})},E=({items:e,centerX:t,centerY:r,direction:n="in",onComplete:o})=>{const s=Array.from(e).map(i=>{const u=i.getBoundingClientRect(),d=u.left+u.width/2,p=u.top+u.height/2,m=t-d,g=r-p,w=Math.hypot(m,g),f=d<t;return{el:i,dx:m,dy:g,dist:w,isLeft:f}}),a=Math.max(...s.map(i=>i.dist)),l=.025*(s.length-1);let c={delay:-1,el:null};if(s.forEach(({el:i,dx:u,dy:d,dist:p,isLeft:m})=>{const g=a?p/a:0,f=Math.pow(n==="in"?1-g:g,1)*l,y=m?100:-100;n==="in"?M(i,u,d,y,f):(f>c.delay&&(c={delay:f,el:i}),b(i,u,d,y,f,!1,o))}),n==="out"&&c.el){const{el:i,dx:u,dy:d,isLeft:p}=s.find(g=>g.el===c.el);b(i,u,d,p?100:-100,c.delay,!0,o)}},j=e=>{const t=e.querySelectorAll(".grid__item, .grid__custom__item");gsap.set(t,{clearProps:"all"}),E({items:t,centerX:window.innerWidth/2,centerY:window.innerHeight/2,direction:"in"})},z=e=>{const t=e.querySelectorAll(".grid__item, .grid__custom__item"),r=()=>gsap.set(e,{pointerEvents:"none",autoAlpha:0});E({items:t,centerX:window.innerWidth/2,centerY:window.innerHeight/2,direction:"out",onComplete:r})},L=e=>{var a;const t=e.closest(".scene"),r=t==null?void 0:t.querySelector(".carousel"),n=r==null?void 0:r.querySelectorAll(".card"),o=e.querySelector("span"),s=((a=_.get(o))==null?void 0:a.chars)||[];return{wrapper:t,carousel:r,cards:n,span:o,chars:s}},H=e=>{const t=`#${e.id}`,r=document.querySelector(`.scene__title a[href="${t}"]`),n=r==null?void 0:r.closest(".scene__title");return{...L(n),titleEl:n}},T=(e,t="in",r={})=>{const n={autoAlpha:t==="in"?1:0,duration:.02,ease:"none",stagger:{each:.04,from:t==="in"?"start":"end"},...r};gsap.fromTo(e,{autoAlpha:t==="in"?0:1},n)},q=(e,t="in",r=".preview__title span, .preview__close")=>{e.querySelectorAll(r).forEach(n=>{var s;const o=((s=_.get(n))==null?void 0:s.chars)||[];T(o,t)})},Z=e=>{if(e.preventDefault(),h)return;h=!0;const t=e.currentTarget,{wrapper:r,carousel:n,cards:o,chars:s}=L(t),l=r.getBoundingClientRect().top+window.scrollY-window.innerHeight/2+r.offsetHeight/2;ScrollTrigger.getAll().forEach(c=>c.disable(!1)),gsap.timeline({defaults:{duration:1.5,ease:"power2.inOut"},onComplete:()=>{h=!1,ScrollTrigger.getAll().forEach(c=>c.enable()),n._timeline.scrollTrigger.scroll(l)}}).to(window,{onStart:D,onComplete:()=>{N(),S.paused(!0)},scrollTo:{y:l,autoKill:!0}}).to(s,{autoAlpha:0,duration:.02,ease:"none",stagger:{each:.04,from:"end"}},0).to(n,{rotationX:90,rotationY:-360,z:-2e3},0).to(n,{duration:2.5,ease:"power3.inOut",z:1500,rotationZ:270,onComplete:()=>gsap.set(A,{autoAlpha:0})},.7).to(o,{rotationZ:0},0).add(()=>{var u;const c=(u=t.querySelector("a"))==null?void 0:u.getAttribute("href"),i=document.querySelector(c);gsap.set(i,{pointerEvents:"auto",autoAlpha:1}),j(i),q(i,"in")},"<+=1.9")},B=e=>{if(h)return;h=!0;const t=e.currentTarget.closest(".preview, .preview__custom");if(!t)return;const{carousel:r,cards:n,chars:o}=H(t);q(t,"out"),z(t),gsap.set(A,{autoAlpha:1});const s=.5,{rotationX:a,rotationY:l,rotationZ:c}=x(s);gsap.timeline({delay:.7,defaults:{duration:1.3,ease:"expo"},onComplete:()=>{S.paused(!1),h=!1}}).fromTo(o,{autoAlpha:0},{autoAlpha:1,duration:.02,ease:"none",stagger:{each:.04,from:"start"}}).fromTo(r,{z:-550,rotationX:a,rotationY:-720,rotationZ:c,yPercent:300},{rotationY:l,yPercent:0},0).fromTo(n,{autoAlpha:0},{autoAlpha:1},.3)};function v(e){e.preventDefault()}function D(){window.addEventListener("wheel",v,{passive:!1}),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("keydown",C,!1)}function N(){window.removeEventListener("wheel",v),window.removeEventListener("touchmove",v),window.removeEventListener("keydown",C)}function C(e){["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"," "].includes(e.key)&&e.preventDefault()}const X=()=>{document.querySelectorAll(".scene__title").forEach(e=>{e.addEventListener("click",Z)}),document.querySelectorAll(".preview__close").forEach(e=>{e.addEventListener("click",B)})},F=()=>{document.querySelectorAll(".carousel").forEach(e=>{I(e),e._timeline=Y(e)})},R=()=>{O(),F(),X(),window.addEventListener("resize",ScrollTrigger.refresh)};k(".grid__item-image").then(()=>{document.body.classList.remove("loading"),$()});
